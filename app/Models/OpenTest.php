<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class OpenTest extends Model
{
    public $fillable = array(
        'user_id', 'company_id', 'province_code', 'product_id', 'schedule_id', 'is_del', 'is_billing',
        'platform_id', 'research', 'issue', 'status', 'created_at', 'updated_at', 'open_time'
    );
    /**
     * @name userInfo
     * @desc 对应的发布者信息
     * @return \Illuminate\Database\Eloquent\Relations\BelongsTo
     * @since  2017/3/30 9:24
     * @update 2017/3/30 9:24
     */
    public function userInfo()
    {
        return $this->belongsTo('App\Models\User', 'user_id', 'id');
    }

    /**
     * @name companyInfo
     * @desc 对应的公司信息
     * @return \Illuminate\Database\Eloquent\Relations\BelongsTo
     * @since  2017/3/30 9:24
     * @update 2017/3/30 9:24
     */
    public function companyInfo()
    {
        return $this->belongsTo('App\Models\Company', 'company_id', 'id');
    }

    /**
     * @name productInfo
     * @desc   对应产品信息
     * @return \Illuminate\Database\Eloquent\Relations\BelongsTo
     * @since  2017/5/31 15:29
     * @update 2017/5/31 15:29
     */
    public function productInfo()
    {
        return $this->belongsTo('App\Models\Product', 'product_id', 'id');
    }

    public function platformInfo(string $platform_id)
    {
        return explode(',', $platform_id);
    }
}
